export function createCardElement(t){const e=document.createElement("div");return e.className="card",e.dataset.id=t.id,renderCardViewMode(e,t),e}export function renderCardViewMode(t,e){t.classList.remove("editing");let i="";if("imagem"===e.tipo){const t=e.descricao?`data-tooltip="${e.descricao.replace(/"/g,"&quot;")}"`:"";i+=`\n            <div class="card-image">\n                <figure class="image ${e.descricao?"has-tooltip":""}" ${t} style="${`padding-bottom: ${e.width&&e.height?e.height/e.width*100:75}%;`}">\n                    <img src="${e.url}" alt="${e.titulo}">\n                </figure>\n            </div>\n        `}if(i+=`<div class="card-content">\n        <p class="title is-4">${e.titulo}</p>`,"texto"===e.tipo?i+=`<div class="content">${e.conteudo.replace(/\n/g,"<br>")}</div>`:i+='<div class="content"></div>',e.tags&&e.tags.length>0){i+=`<div class="tags">${e.tags.map((t=>`<span class="tag is-info">${t}</span>`)).join(" ")}</div>`}i+="</div>",t.innerHTML='\n        <div class="card-actions-top">\n            <button class="action-icon view-btn"><i class="fas fa-eye"></i></button>\n            <button class="action-icon edit-btn"><i class="fas fa-pencil-alt"></i></button>\n            <button class="action-icon delete-btn"><i class="fas fa-trash-alt"></i></button>\n        </div>\n    '+i}export function renderCardEditMode(t,e,i){t.classList.add("editing");let a="";if("imagem"===e.tipo){a=`\n            <div class="card-image">\n                <figure class="image" style="${`padding-bottom: ${e.width&&e.height?e.height/e.width*100:75}%;`}">\n                    <img src="${e.url}" alt="${e.titulo}">\n                    <div class="change-image-overlay">\n                        <label class="button is-light">\n                            <span class="icon is-small"><i class="fas fa-camera"></i></span>\n                            <span>Trocar Imagem</span>\n                            <input type="file" class="edit-image-input" accept="image/*" style="display: none;">\n                        </label>\n                    </div>\n                </figure>\n            </div>\n            <div class="card-content">\n                <div class="field"><div class="control"><input class="input edit-titulo" type="text" value="${e.titulo}" placeholder="Legenda"></div></div>\n                <div class="field"><div class="control"><textarea class="textarea edit-descricao" placeholder="Descrição">${e.descricao||""}</textarea></div></div>\n                <div class="field"><div class="control"><input class="input edit-tags" type="text" value="${e.tags.join(", ")}" placeholder="Tags"></div></div>\n            </div>\n        `}else a=`\n            <div class="card-content">\n                <div class="field"><div class="control"><input class="input edit-titulo" type="text" value="${e.titulo}" placeholder="Título"></div></div>\n                <div class="field"><div class="control"><textarea class="textarea edit-conteudo" placeholder="Conteúdo">${e.conteudo}</textarea></div></div>\n                <div class="field"><div class="control"><input class="input edit-tags" type="text" value="${e.tags.join(", ")}" placeholder="Tags"></div></div>\n            </div>\n        `;t.innerHTML='\n        <div class="card-actions-top">\n            <button class="action-icon save-btn"><i class="fas fa-save"></i></button>\n            <button class="action-icon cancel-btn"><i class="fas fa-times-circle"></i></button>\n        </div>'+a;const s=t.querySelector(".edit-tags");s&&i?.onTagInputInit&&i.onTagInputInit(s)}export function getCardFormData(t,e){const i={titulo:t.querySelector(".edit-titulo").value,tags:t.querySelector(".edit-tags").value.split(",").map((t=>t.trim())).filter((t=>t))};return"texto"===e?i.conteudo=t.querySelector(".edit-conteudo").value:"imagem"===e&&(i.descricao=t.querySelector(".edit-descricao").value),i}export function getImageDimensions(t){return new Promise(((e,i)=>{const a=new FileReader;a.onload=t=>{const a=new Image;a.onload=()=>e({width:a.width,height:a.height}),a.onerror=i,a.src=t.target.result},a.readAsDataURL(t)}))}